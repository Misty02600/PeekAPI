# Active Context - PeekAPI

## 当前工作重点

项目处于稳定运行状态，核心功能已完成。当前关注点：
- 记忆库维护（进行中）
- Linux 平台支持（计划中）

## 最近变更

- 2026-01-28: 优化 PyInstaller 打包配置（excludes 列表精简、清理脚本）
- 2026-01-26: Flask 重构为 FastAPI，移除 parse_float 死代码，优化录音类
- 2026-01-25: msgspec 配置重构，loguru 日志迁移，单元测试
- 2026-01-25: 初始化项目记忆库

## 当前状态

### 已完成功能
- ✅ 屏幕截图 API (`/screen`)
- ✅ 音频录制 API (`/record`)
- ✅ 健康检查 API (`/check`)
- ✅ 系统托盘管理
- ✅ 公开/私密模式切换
- ✅ API 密钥验证
- ✅ 高斯模糊处理
- ✅ 多显示器支持
- ✅ 音频设备自动重连
- ✅ Windows 通知
- ✅ 日志系统 (loguru)
- ✅ exe 打包支持
- ✅ FastAPI 重构（替代 Flask）
- ✅ 单元测试（85 测试通过）

### 进行中
- 🔄 记忆库文档维护

### 计划中
- 📋 Linux 平台支持

## 下一步行动

1. 完成记忆库更新
2. 评估 Linux 支持方案
3. OpenAPI 文档完善

## 活跃决策

### 决策 1: Linux 支持方案
- **状态**: 规划中
- **问题**: winotify 是 Windows 专用，需要替换
- **选项**:
  - 使用跨平台通知库
  - 根据平台条件导入
- **参考**: [docs/plan.md](../docs/plan.md)（如存在）

## 需要注意的事项

1. **配置文件位置** - exe 模式和开发模式路径不同
2. **音频设备** - 需要有默认扬声器才能录音
3. **API 安全** - 生产环境应设置 api_key

## 阻塞问题

当前无阻塞问题。

## 重要参考

- README.md - 项目说明和 API 文档
- config.toml - 配置示例
- pyproject.toml - 依赖管理
